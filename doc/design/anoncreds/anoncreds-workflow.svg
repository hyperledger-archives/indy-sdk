<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3101.4px" preserveAspectRatio="none" style="width:1117px;height:3101px;" version="1.1" viewBox="0 0 1117 3101" width="1117.8px" zoomAndPan="magnify"><defs><filter height="300%" id="f12jj1znfmc8gk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.8"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.6" dy="3.6" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="12.6" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116.1" x="496.8" y="22.0799">Libindy anoncreds</text><rect fill="#ADD8E6" height="3059.4938" style="stroke: #A80036; stroke-width: 0.9;" width="363.15" x="21.6" y="32.0484"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="33.3" x="186.525" y="44.194">Issuer</text><rect fill="#DDDDDD" height="3059.4938" style="stroke: #A80036; stroke-width: 0.9;" width="366.75" x="456.75" y="32.0484"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="621.225" y="44.194">Prover</text><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="94.5" x2="94.5" y1="126.5133" y2="3012.6938"/><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="361.35" x2="361.35" y1="126.5133" y2="3012.6938"/><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="481.95" x2="481.95" y1="126.5133" y2="3012.6938"/><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="747.9" x2="747.9" y1="126.5133" y2="3012.6938"/><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="869.4" x2="869.4" y1="126.5133" y2="3012.6938"/><line style="stroke: #A80036; stroke-width: 0.9; stroke-dasharray: 5.0,5.0;" x1="1046.7" x2="1046.7" y1="126.5133" y2="3012.6938"/><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="99.9" x="43.2" y="93.5648"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="87.3" x="49.5" y="112.9447">Walleted Issuer</text><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="99.9" x="43.2" y="3011.7938"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="87.3" x="49.5" y="3031.1736">Walleted Issuer</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="34.2" x="341.55" y="123.7447">Issuer</text><ellipse cx="361.35" cy="59.3648" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M361.35,66.5648 L361.35,90.8648 M349.65,73.7648 L373.05,73.7648 M361.35,90.8648 L349.65,104.3648 M361.35,90.8648 L373.05,104.3648 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="34.2" x="341.55" y="3024.8736">Issuer</text><ellipse cx="361.35" cy="3036.6422" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M361.35,3043.8422 L361.35,3068.1422 M349.65,3051.0422 L373.05,3051.0422 M361.35,3068.1422 L349.65,3081.6422 M361.35,3068.1422 L373.05,3081.6422 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="460.35" y="123.7447">Prover</text><ellipse cx="481.95" cy="59.3648" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M481.95,66.5648 L481.95,90.8648 M470.25,73.7648 L493.65,73.7648 M481.95,90.8648 L470.25,104.3648 M481.95,90.8648 L493.65,104.3648 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="37.8" x="460.35" y="3024.8736">Prover</text><ellipse cx="481.95" cy="3036.6422" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M481.95,3043.8422 L481.95,3068.1422 M470.25,3051.0422 L493.65,3051.0422 M481.95,3068.1422 L470.25,3081.6422 M481.95,3068.1422 L493.65,3081.6422 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="103.5" x="694.8" y="93.5648"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="90.9" x="701.1" y="112.9447">Walleted Prover</text><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="103.5" x="694.8" y="3011.7938"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="90.9" x="701.1" y="3031.1736">Walleted Prover</text><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="40.5" x="846.9" y="123.7447">Verifier</text><ellipse cx="869.85" cy="59.3648" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M869.85,66.5648 L869.85,90.8648 M858.15,73.7648 L881.55,73.7648 M869.85,90.8648 L858.15,104.3648 M869.85,90.8648 L881.55,104.3648 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="40.5" x="846.9" y="3024.8736">Verifier</text><ellipse cx="869.85" cy="3036.6422" fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" rx="7.2" ry="7.2" style="stroke: #A80036; stroke-width: 1.8;"/><path d="M869.85,3043.8422 L869.85,3068.1422 M858.15,3051.0422 L881.55,3051.0422 M869.85,3068.1422 L858.15,3081.6422 M869.85,3068.1422 L881.55,3081.6422 " fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" style="stroke: #A80036; stroke-width: 1.8;"/><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="53.1" x="1018.8" y="93.5648"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="40.5" x="1025.1" y="112.9447">Ledger</text><rect fill="#FEFECE" filter="url(#f12jj1znfmc8gk)" height="28.4484" style="stroke: #A80036; stroke-width: 1.35;" width="53.1" x="1018.8" y="3011.7938"/><text fill="#000000" font-family="sans-serif" font-size="12.6" lengthAdjust="spacingAndGlyphs" textLength="40.5" x="1025.1" y="3031.1736">Ledger</text><polygon fill="#FFFFFF" filter="url(#f12jj1znfmc8gk)" points="38.7,140.0133,38.7,251.6133,1102.5,251.6133,1102.5,149.0133,1093.5,140.0133,38.7,140.0133" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="1093.5" x2="1093.5" y1="140.0133" y2="149.0133"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="1102.5" x2="1093.5" y1="149.0133" y2="149.0133"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="326.7" x="401.4" y="156.6589">dashed arrows: a value from Ledger may be cached (in wallet?)</text><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50.4" x="401.4" y="171.3753">bold text</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="142.2" x="451.8" y="171.3753">: anoncreds libindy API call</text><text fill="#FF0000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="19.8" x="401.4" y="186.0917">red:</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="223.2" x="424.8" y="186.0917">internal communication with walleted entity</text><text fill="#008000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="32.4" x="401.4" y="200.8081">green:</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="166.5" x="437.4" y="200.8081">submit/get to/from secure wallet</text><text fill="#0000FF" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="25.2" x="401.4" y="215.5245">blue:</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="133.2" x="430.2" y="215.5245">submit/get to/from Ledger</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="271.8" x="401.4" y="230.2409">black: communication between Issuer/Prover/Verifier</text><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="0" x="405" y="244.9573"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="281.4504"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="281.4504" y2="281.4504"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="284.1504" y2="284.1504"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="173.7" x="468" y="269.1281"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161.1" x="473.4" y="288.6108">Create Claim Definition</text><polygon fill="#A80036" points="104.85,320.7727,95.85,324.3727,104.85,327.9727,101.25,324.3727" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="324.3727" y2="324.3727"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="243.9" x="110.25" y="320.3183">1. indy_issuer_create_and_store_claim_def</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="352.0055" y2="352.0055"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="352.0055" y2="363.7055"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="363.7055" y2="363.7055"/><polygon fill="#008000" points="104.85,360.1055,95.85,363.7055,104.85,367.3055,101.25,363.7055" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="54.9" x="101.25" y="347.6347">store keys</text><polygon fill="#A80036" points="350.55,387.1055,359.55,390.7055,350.55,394.3055,354.15,390.7055" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="94.95" x2="355.95" y1="390.7055" y2="390.7055"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="165.6" x="101.25" y="386.6511">&lt;claim_def, claim_def_referent&gt;</text><polygon fill="#0000FF" points="1036.35,414.4219,1045.35,418.0219,1036.35,421.6219,1039.95,418.0219" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="361.35" x2="1041.75" y1="418.0219" y2="418.0219"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="113.4" x="367.65" y="413.9675">send CLAIM_DEF txn</text><polygon fill="#0000FF" points="371.25,441.7383,362.25,445.3383,371.25,448.9383,367.65,445.3383" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="365.85" x2="1046.25" y1="445.3383" y2="445.3383"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="147.6" x="376.65" y="441.2839">&lt;claim definitions's seq_no&gt;</text><polygon fill="#A80036" points="104.85,469.0547,95.85,472.6547,104.85,476.2547,101.25,472.6547" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="472.6547" y2="472.6547"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207.9" x="110.25" y="468.6003">2. indy_wallet_set_seq_no_for_value</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="500.2875" y2="500.2875"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="500.2875" y2="511.9875"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="511.9875" y2="511.9875"/><polygon fill="#008000" points="104.85,508.3875,95.85,511.9875,104.85,515.5875,101.25,511.9875" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="101.25" y="495.9167">update claim_def seq_no</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="540.5098"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="540.5098" y2="540.5098"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="543.2098" y2="543.2098"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="207" x="451.35" y="528.1875"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="194.4" x="456.75" y="547.6702">Create Revocation Registry</text><polygon fill="#A80036" points="104.85,579.832,95.85,583.432,104.85,587.032,101.25,583.432" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="583.432" y2="583.432"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244.8" x="110.25" y="579.3776">3. indy_issuer_create_and_store_revoc_reg</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="611.0648" y2="611.0648"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="611.0648" y2="622.7648"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="622.7648" y2="622.7648"/><polygon fill="#008000" points="104.85,619.1648,95.85,622.7648,104.85,626.3648,101.25,622.7648" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="45" x="101.25" y="606.694">get keys</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="650.0813" y2="650.0813"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="650.0813" y2="661.7813"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="661.7813" y2="661.7813"/><polygon fill="#008000" points="104.85,658.1813,95.85,661.7813,104.85,665.3813,101.25,661.7813" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="76.5" x="101.25" y="645.7104">store revoc reg</text><polygon fill="#A80036" points="350.55,685.1813,359.55,688.7813,350.55,692.3813,354.15,688.7813" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="94.95" x2="355.95" y1="688.7813" y2="688.7813"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="165.6" x="101.25" y="684.7269">&lt;revoc_reg, revoc_reg_referent&gt;</text><polygon fill="#0000FF" points="1036.35,712.4977,1045.35,716.0977,1036.35,719.6977,1039.95,716.0977" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="361.35" x2="1041.75" y1="716.0977" y2="716.0977"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="121.5" x="367.65" y="712.0433">send REVOC_REG txn</text><polygon fill="#0000FF" points="371.25,739.8141,362.25,743.4141,371.25,747.0141,367.65,743.4141" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="365.85" x2="1046.25" y1="743.4141" y2="743.4141"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="113.4" x="376.65" y="739.3597">&lt;revoc_reg's seq_no&gt;</text><polygon fill="#A80036" points="104.85,767.1305,95.85,770.7305,104.85,774.3305,101.25,770.7305" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="770.7305" y2="770.7305"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="207.9" x="110.25" y="766.6761">4. indy_wallet_set_seq_no_for_value</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="798.3633" y2="798.3633"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="798.3633" y2="810.0633"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="810.0633" y2="810.0633"/><polygon fill="#008000" points="104.85,806.4633,95.85,810.0633,104.85,813.6633,101.25,810.0633" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="101.25" y="793.9925">update revpc_reg seq_no</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="838.5855"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="838.5855" y2="838.5855"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="841.2855" y2="841.2855"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="160.2" x="474.75" y="826.2633"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147.6" x="480.15" y="845.746">Create Master secret</text><polygon fill="#A80036" points="737.55,877.9078,746.55,881.5078,737.55,885.1078,741.15,881.5078" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="881.5078" y2="881.5078"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205.2" x="488.25" y="877.4534">5.indy_prover_create_master_secret</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="909.1406" y2="909.1406"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="909.1406" y2="920.8406"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="920.8406" y2="920.8406"/><polygon fill="#008000" points="758.25,917.2406,749.25,920.8406,758.25,924.4406,754.65,920.8406" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="101.7" x="754.65" y="904.7698">store master secret</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="949.3629"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="949.3629" y2="949.3629"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="952.0629" y2="952.0629"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="131.4" x="489.15" y="937.0406"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118.8" x="494.55" y="956.5233">Send Claim Offer</text><polygon fill="#000000" points="471.15,988.6852,480.15,992.2852,471.15,995.8852,474.75,992.2852" style="stroke: #000000; stroke-width: 0.9;"/><line style="stroke: #000000; stroke-width: 0.9;" x1="361.35" x2="476.55" y1="992.2852" y2="992.2852"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="81.9" x="367.65" y="988.2308">send claim offer</text><polygon fill="#A80036" points="737.55,1016.0016,746.55,1019.6016,737.55,1023.2016,741.15,1019.6016" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="1019.6016" y2="1019.6016"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185.4" x="491.85" y="1015.5472">6. indy_prover_store_claim_offer</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1047.2344" y2="1047.2344"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1047.2344" y2="1058.9344"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1058.9344" y2="1058.9344"/><polygon fill="#008000" points="758.25,1055.3344,749.25,1058.9344,758.25,1062.5344,754.65,1058.9344" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="89.1" x="754.65" y="1042.8636">store claim offers</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="1087.4566"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1087.4566" y2="1087.4566"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1090.1566" y2="1090.1566"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="179.1" x="465.3" y="1075.1344"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166.5" x="470.7" y="1094.6171">Show Claim Offers in UI</text><polygon fill="#A80036" points="737.55,1126.7789,746.55,1130.3789,737.55,1133.9789,741.15,1130.3789" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="1130.3789" y2="1130.3789"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177.3" x="488.25" y="1126.3245">7.indy_prover_get_claim_offers</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1158.0117" y2="1158.0117"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1158.0117" y2="1169.7117"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1169.7117" y2="1169.7117"/><polygon fill="#008000" points="758.25,1166.1117,749.25,1169.7117,758.25,1173.3117,754.65,1169.7117" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="79.2" x="754.65" y="1153.6409">get claim offers</text><polygon fill="#A80036" points="491.85,1193.1117,482.85,1196.7117,491.85,1200.3117,488.25,1196.7117" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="486.45" x2="747.45" y1="1196.7117" y2="1196.7117"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="76.5" x="497.25" y="1192.6573">&lt;claim_offers&gt;</text><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="519.75" y1="1224.3445" y2="1224.3445"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="519.75" x2="519.75" y1="1224.3445" y2="1236.0445"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="482.85" x2="519.75" y1="1236.0445" y2="1236.0445"/><polygon fill="#A80036" points="491.85,1232.4445,482.85,1236.0445,491.85,1239.6445,488.25,1236.0445" style="stroke: #A80036; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="488.25" y="1219.9737">show on UI</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="1264.5668"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1264.5668" y2="1264.5668"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1267.2668" y2="1267.2668"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="194.4" x="457.65" y="1252.2445"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181.8" x="463.05" y="1271.7272">Request and Issue Claims</text><polygon fill="#0000FF" points="1036.35,1303.8891,1045.35,1307.4891,1036.35,1311.0891,1039.95,1307.4891" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="481.95" x2="1041.75" y1="1307.4891" y2="1307.4891"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="143.1" x="488.25" y="1303.4347">send GET_CLAIM_DEF req</text><polygon fill="#0000FF" points="491.85,1331.2055,482.85,1334.8055,491.85,1338.4055,488.25,1334.8055" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="486.45" x2="1046.25" y1="1334.8055" y2="1334.8055"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="91.8" x="497.25" y="1330.7511">&lt;claim definition&gt;</text><polygon fill="#A80036" points="737.55,1358.5219,746.55,1362.1219,737.55,1365.7219,741.15,1362.1219" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="1362.1219" y2="1362.1219"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244.8" x="488.25" y="1358.0675">8.indy_prover_create_and_store_claim_req</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1389.7547" y2="1389.7547"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1389.7547" y2="1401.4547"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1401.4547" y2="1401.4547"/><polygon fill="#008000" points="758.25,1397.8547,749.25,1401.4547,758.25,1405.0547,754.65,1401.4547" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="91.8" x="754.65" y="1385.3839">get master secret</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1428.7711" y2="1428.7711"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1428.7711" y2="1440.4711"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1440.4711" y2="1440.4711"/><polygon fill="#008000" points="758.25,1436.8711,749.25,1440.4711,758.25,1444.0711,754.65,1440.4711" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="80.1" x="754.65" y="1424.4003">store claim_req</text><polygon fill="#A80036" points="491.85,1463.8711,482.85,1467.4711,491.85,1471.0711,488.25,1467.4711" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="486.45" x2="747.45" y1="1467.4711" y2="1467.4711"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="497.25" y="1463.4167">&lt;claim_req&gt;</text><polygon fill="#000000" points="371.25,1491.1875,362.25,1494.7875,371.25,1498.3875,367.65,1494.7875" style="stroke: #000000; stroke-width: 0.9;"/><line style="stroke: #000000; stroke-width: 0.9;" x1="365.85" x2="481.05" y1="1494.7875" y2="1494.7875"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="99" x="376.65" y="1490.7331">send claim request</text><polygon fill="#A80036" points="104.85,1518.5039,95.85,1522.1039,104.85,1525.7039,101.25,1522.1039" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="1522.1039" y2="1522.1039"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="157.5" x="110.25" y="1518.0495">9. indy_issuer_create_claim</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="1549.7367" y2="1549.7367"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="1549.7367" y2="1561.4367"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="1561.4367" y2="1561.4367"/><polygon fill="#008000" points="104.85,1557.8367,95.85,1561.4367,104.85,1565.0367,101.25,1561.4367" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="45" x="101.25" y="1545.3659">get keys</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="1588.7531" y2="1588.7531"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="1588.7531" y2="1600.4531"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="1600.4531" y2="1600.4531"/><polygon fill="#008000" points="104.85,1596.8531,95.85,1600.4531,104.85,1604.0531,101.25,1600.4531" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="66.6" x="101.25" y="1584.3823">get revoc reg</text><polygon fill="#A80036" points="350.55,1623.8531,359.55,1627.4531,350.55,1631.0531,354.15,1627.4531" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="94.95" x2="355.95" y1="1627.4531" y2="1627.4531"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="149.4" x="101.25" y="1623.3987">&lt;update revoc reg&gt;, &lt;claim&gt;</text><polygon fill="#0000FF" points="1036.35,1651.1695,1045.35,1654.7695,1036.35,1658.3695,1039.95,1654.7695" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="361.35" x2="1041.75" y1="1654.7695" y2="1654.7695"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="174.6" x="367.65" y="1650.7151">send REVOC_REG_UPDATE txn</text><polygon fill="#000000" points="471.15,1678.4859,480.15,1682.0859,471.15,1685.6859,474.75,1682.0859" style="stroke: #000000; stroke-width: 0.9;"/><line style="stroke: #000000; stroke-width: 0.9;" x1="361.35" x2="476.55" y1="1682.0859" y2="1682.0859"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="56.7" x="367.65" y="1678.0315">send claim</text><polygon fill="#A80036" points="737.55,1705.8023,746.55,1709.4023,737.55,1713.0023,741.15,1709.4023" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="1709.4023" y2="1709.4023"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="155.7" x="488.25" y="1705.3479">10.indy_prover_store_claim</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1737.0352" y2="1737.0352"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1737.0352" y2="1748.7352"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1748.7352" y2="1748.7352"/><polygon fill="#008000" points="758.25,1745.1352,749.25,1748.7352,758.25,1752.3352,754.65,1748.7352" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="90" x="754.65" y="1732.6644">get claim request</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1776.0516" y2="1776.0516"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1776.0516" y2="1787.7516"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1787.7516" y2="1787.7516"/><polygon fill="#008000" points="758.25,1784.1516,749.25,1787.7516,758.25,1791.3516,754.65,1787.7516" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="754.65" y="1771.6808">store claim</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="1816.2738"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1816.2738" y2="1816.2738"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1818.9738" y2="1818.9738"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="144.9" x="482.4" y="1803.9516"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132.3" x="487.8" y="1823.4343">Show Claims on UI</text><polygon fill="#A80036" points="737.55,1855.5961,746.55,1859.1961,737.55,1862.7961,741.15,1859.1961" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="1859.1961" y2="1859.1961"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="154.8" x="488.25" y="1855.1417">11. indy_prover_get_claims</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="1886.8289" y2="1886.8289"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="1886.8289" y2="1898.5289"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="1898.5289" y2="1898.5289"/><polygon fill="#008000" points="758.25,1894.9289,749.25,1898.5289,758.25,1902.1289,754.65,1898.5289" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="54" x="754.65" y="1882.4581">get claims</text><polygon fill="#A80036" points="491.85,1921.9289,482.85,1925.5289,491.85,1929.1289,488.25,1925.5289" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="486.45" x2="747.45" y1="1925.5289" y2="1925.5289"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="48.6" x="497.25" y="1921.4745">&lt;claims&gt;</text><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="519.75" y1="1953.1617" y2="1953.1617"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="519.75" x2="519.75" y1="1953.1617" y2="1964.8617"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="482.85" x2="519.75" y1="1964.8617" y2="1964.8617"/><polygon fill="#A80036" points="491.85,1961.2617,482.85,1964.8617,491.85,1968.4617,488.25,1964.8617" style="stroke: #A80036; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="488.25" y="1948.7909">show on UI</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="1993.384"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1993.384" y2="1993.384"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="1996.084" y2="1996.084"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="305.1" x="402.3" y="1981.0617"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="292.5" x="407.7" y="2000.5444">Present Claim to 3d Party (proof request)</text><polygon fill="#000000" points="491.85,2032.7063,482.85,2036.3063,491.85,2039.9063,488.25,2036.3063" style="stroke: #000000; stroke-width: 0.9;"/><line style="stroke: #000000; stroke-width: 0.9;" x1="486.45" x2="868.95" y1="2036.3063" y2="2036.3063"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="96.3" x="497.25" y="2032.2519">send proof request</text><polygon fill="#A80036" points="737.55,2082.5227,746.55,2086.1227,737.55,2089.7227,741.15,2086.1227" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="2086.1227" y2="2086.1227"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="234" x="488.25" y="2082.0683">12.indy_prover_get_claims_for_proof_req</text><polygon fill="#A80036" points="491.85,2109.8391,482.85,2113.4391,491.85,2117.0391,488.25,2113.4391" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="486.45" x2="747.45" y1="2113.4391" y2="2113.4391"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="135.9" x="497.25" y="2109.3847">&lt;claims for proof request&gt;</text><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="519.75" y1="2141.0719" y2="2141.0719"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="519.75" x2="519.75" y1="2141.0719" y2="2152.7719"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="482.85" x2="519.75" y1="2152.7719" y2="2152.7719"/><polygon fill="#A80036" points="491.85,2149.1719,482.85,2152.7719,491.85,2156.3719,488.25,2152.7719" style="stroke: #A80036; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="488.25" y="2136.7011">show on UI</text><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="519.75" y1="2180.0883" y2="2180.0883"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="519.75" x2="519.75" y1="2180.0883" y2="2191.7883"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="482.85" x2="519.75" y1="2191.7883" y2="2191.7883"/><polygon fill="#A80036" points="491.85,2188.1883,482.85,2191.7883,491.85,2195.3883,488.25,2191.7883" style="stroke: #A80036; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="134.1" x="488.25" y="2175.7175">select claims for the proof</text><polygon fill="#0000FF" points="1036.35,2237.6883,1045.35,2241.2883,1036.35,2244.8883,1039.95,2241.2883" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="481.95" x2="1041.75" y1="2241.2883" y2="2241.2883"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="128.7" x="488.25" y="2237.2339">send GET_SCHEMA req</text><polygon fill="#0000FF" points="491.85,2265.0047,482.85,2268.6047,491.85,2272.2047,488.25,2268.6047" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="486.45" x2="1046.25" y1="2268.6047" y2="2268.6047"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="55.8" x="497.25" y="2264.5503">&lt;schema&gt;</text><polygon fill="#0000FF" points="1036.35,2292.3211,1045.35,2295.9211,1036.35,2299.5211,1039.95,2295.9211" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="481.95" x2="1041.75" y1="2295.9211" y2="2295.9211"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="143.1" x="488.25" y="2291.8667">send GET_CLAIM_DEF req</text><polygon fill="#0000FF" points="491.85,2319.6375,482.85,2323.2375,491.85,2326.8375,488.25,2323.2375" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="486.45" x2="1046.25" y1="2323.2375" y2="2323.2375"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="63.9" x="497.25" y="2319.1831">&lt;claim_def&gt;</text><polygon fill="#0000FF" points="1036.35,2346.9539,1045.35,2350.5539,1036.35,2354.1539,1039.95,2350.5539" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="481.95" x2="1041.75" y1="2350.5539" y2="2350.5539"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="488.25" y="2346.4995">send GET_REVOC_REG req</text><polygon fill="#0000FF" points="491.85,2374.2703,482.85,2377.8703,491.85,2381.4703,488.25,2377.8703" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="486.45" x2="1046.25" y1="2377.8703" y2="2377.8703"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="63.9" x="497.25" y="2373.8159">&lt;revoc_reg&gt;</text><polygon fill="#A80036" points="737.55,2424.0867,746.55,2427.6867,737.55,2431.2867,741.15,2427.6867" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="481.95" x2="742.95" y1="2427.6867" y2="2427.6867"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="488.25" y="2423.6323">13.indy_prover_create_proof</text><line style="stroke: #008000; stroke-width: 0.9;" x1="748.35" x2="786.15" y1="2455.3195" y2="2455.3195"/><line style="stroke: #008000; stroke-width: 0.9;" x1="786.15" x2="786.15" y1="2455.3195" y2="2467.0195"/><line style="stroke: #008000; stroke-width: 0.9;" x1="749.25" x2="786.15" y1="2467.0195" y2="2467.0195"/><polygon fill="#008000" points="758.25,2463.4195,749.25,2467.0195,758.25,2470.6195,754.65,2467.0195" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="47.7" x="754.65" y="2450.9487">get claim</text><polygon fill="#A80036" points="491.85,2490.4195,482.85,2494.0195,491.85,2497.6195,488.25,2494.0195" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="486.45" x2="747.45" y1="2494.0195" y2="2494.0195"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="39.6" x="497.25" y="2489.9651">&lt;proof&gt;</text><polygon fill="#000000" points="859.05,2540.2359,868.05,2543.8359,859.05,2547.4359,862.65,2543.8359" style="stroke: #000000; stroke-width: 0.9;"/><line style="stroke: #000000; stroke-width: 0.9;" x1="481.95" x2="864.45" y1="2543.8359" y2="2543.8359"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="54" x="488.25" y="2539.7815">send proof</text><polygon fill="#0000FF" points="1036.35,2590.0523,1045.35,2593.6523,1036.35,2597.2523,1039.95,2593.6523" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="869.85" x2="1041.75" y1="2593.6523" y2="2593.6523"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="128.7" x="876.15" y="2589.5979">send GET_SCHEMA req</text><polygon fill="#0000FF" points="879.75,2617.3688,870.75,2620.9688,879.75,2624.5688,876.15,2620.9688" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="874.35" x2="1046.25" y1="2620.9688" y2="2620.9688"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="55.8" x="885.15" y="2616.9144">&lt;schema&gt;</text><polygon fill="#0000FF" points="1036.35,2644.6852,1045.35,2648.2852,1036.35,2651.8852,1039.95,2648.2852" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="869.85" x2="1041.75" y1="2648.2852" y2="2648.2852"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="143.1" x="876.15" y="2644.2308">send GET_CLAIM_DEF req</text><polygon fill="#0000FF" points="879.75,2672.0016,870.75,2675.6016,879.75,2679.2016,876.15,2675.6016" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="874.35" x2="1046.25" y1="2675.6016" y2="2675.6016"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="63.9" x="885.15" y="2671.5472">&lt;claim_def&gt;</text><polygon fill="#0000FF" points="1036.35,2699.318,1045.35,2702.918,1036.35,2706.518,1039.95,2702.918" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="869.85" x2="1041.75" y1="2702.918" y2="2702.918"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="151.2" x="876.15" y="2698.8636">send GET_REVOC_REG req</text><polygon fill="#0000FF" points="879.75,2726.6344,870.75,2730.2344,879.75,2733.8344,876.15,2730.2344" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9; stroke-dasharray: 2.0,2.0;" x1="874.35" x2="1046.25" y1="2730.2344" y2="2730.2344"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="63.9" x="885.15" y="2726.18">&lt;revoc_reg&gt;</text><line style="stroke: #A80036; stroke-width: 0.9;" x1="869.85" x2="907.65" y1="2780.3672" y2="2780.3672"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="907.65" x2="907.65" y1="2780.3672" y2="2792.0672"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="870.75" x2="907.65" y1="2792.0672" y2="2792.0672"/><polygon fill="#A80036" points="879.75,2788.4672,870.75,2792.0672,879.75,2795.6672,876.15,2792.0672" style="stroke: #A80036; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164.7" x="876.15" y="2775.9964">14. indy_verifier_verify_proof</text><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="2.7" style="stroke: #EEEEEE; stroke-width: 0.9;" width="1104.3" x="2.7" y="2820.5895"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="2820.5895" y2="2820.5895"/><line style="stroke: #000000; stroke-width: 0.9;" x1="2.7" x2="1107" y1="2823.2895" y2="2823.2895"/><rect fill="#EEEEEE" filter="url(#f12jj1znfmc8gk)" height="26.4445" style="stroke: #000000; stroke-width: 1.8;" width="116.1" x="496.8" y="2808.2672"/><text fill="#000000" font-family="sans-serif" font-size="15.3" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103.5" x="502.2" y="2827.7499">Revoke Claims</text><polygon fill="#A80036" points="104.85,2859.9117,95.85,2863.5117,104.85,2867.1117,101.25,2863.5117" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="99.45" x2="360.45" y1="2863.5117" y2="2863.5117"/><text fill="#000000" font-family="sans-serif" font-size="11.7" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166.5" x="110.25" y="2859.4573">15. indy_issuer_revoke_claim</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="2891.1445" y2="2891.1445"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="2891.1445" y2="2902.8445"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="2902.8445" y2="2902.8445"/><polygon fill="#008000" points="104.85,2899.2445,95.85,2902.8445,104.85,2906.4445,101.25,2902.8445" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="45" x="101.25" y="2886.7737">get keys</text><line style="stroke: #008000; stroke-width: 0.9;" x1="94.95" x2="132.75" y1="2930.1609" y2="2930.1609"/><line style="stroke: #008000; stroke-width: 0.9;" x1="132.75" x2="132.75" y1="2930.1609" y2="2941.8609"/><line style="stroke: #008000; stroke-width: 0.9;" x1="95.85" x2="132.75" y1="2941.8609" y2="2941.8609"/><polygon fill="#008000" points="104.85,2938.2609,95.85,2941.8609,104.85,2945.4609,101.25,2941.8609" style="stroke: #008000; stroke-width: 0.9;"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="66.6" x="101.25" y="2925.7901">get revoc reg</text><polygon fill="#A80036" points="350.55,2965.2609,359.55,2968.8609,350.55,2972.4609,354.15,2968.8609" style="stroke: #A80036; stroke-width: 0.9;"/><line style="stroke: #A80036; stroke-width: 0.9;" x1="94.95" x2="355.95" y1="2968.8609" y2="2968.8609"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="99.9" x="101.25" y="2964.8065">&lt;update revoc reg&gt;</text><polygon fill="#0000FF" points="1036.35,2992.5773,1045.35,2996.1773,1036.35,2999.7773,1039.95,2996.1773" style="stroke: #0000FF; stroke-width: 0.9;"/><line style="stroke: #0000FF; stroke-width: 0.9;" x1="361.35" x2="1041.75" y1="2996.1773" y2="2996.1773"/><text fill="#000000" font-family="sans-serif" font-size="11.7" lengthAdjust="spacingAndGlyphs" textLength="174.6" x="367.65" y="2992.1229">send REVOC_REG_UPDATE txn</text><!--
@startuml
skinparam ParticipantPadding 20
skinparam BoxPadding 20

title Libindy anoncreds
scale 0.9


box "Issuer" #LightBlue
participant "Walleted Issuer" as IW
actor Issuer as I
endbox

box "Prover"
actor Prover as P
participant "Walleted Prover" as PW
endbox

actor Verifier as V

participant "Ledger" as L


note over IW, L #white
    dashed arrows: a value from Ledger may be cached (in wallet?)
    <b>bold text</b>: anoncreds libindy API call
    <font color=red>red:</font> internal communication with walleted entity
    <font color=green>green:</font> submit/get to/from secure wallet
    <font color=blue>blue:</font> submit/get to/from Ledger
    black: communication between Issuer/Prover/Verifier

endnote


=== Create Claim Definition ==
I -> IW: <b>1. indy_issuer_create_and_store_claim_def
IW -[#green]> IW: store keys
IW -> I: <claim_def, claim_def_referent>

I-[#blue]>L: send CLAIM_DEF txn
L-[#blue]>I: <claim definitions's seq_no>

I -> IW: <b>2. indy_wallet_set_seq_no_for_value
IW -[#green]> IW: update claim_def seq_no

=== Create Revocation Registry ==

I -> IW: <b>3. indy_issuer_create_and_store_revoc_reg
IW -[#green]> IW: get keys
IW -[#green]> IW: store revoc reg
IW -> I: <revoc_reg, revoc_reg_referent>

I-[#blue]>L: send REVOC_REG txn
L-[#blue]>I: <revoc_reg's seq_no>

I -> IW: <b>4. indy_wallet_set_seq_no_for_value
IW -[#green]> IW: update revpc_reg seq_no

=== Create Master secret ==

P -> PW: <b>5.indy_prover_create_master_secret
PW -[#green]> PW: store master secret

=== Send Claim Offer ==

I -[#black]> P: send claim offer
P -> PW: <b> 6. indy_prover_store_claim_offer
PW -[#green]> PW: store claim offers

=== Show Claim Offers in UI ==

P -> PW: <b>7.indy_prover_get_claim_offers
PW -[#green]> PW: get claim offers
PW -> P: <claim_offers>
P -> P: show on UI

=== Request and Issue Claims ==
P -[#blue]-> L: send GET_CLAIM_DEF req
L -[#blue]-> P: <claim definition>

P -> PW: <b>8.indy_prover_create_and_store_claim_req
PW -[#green]> PW: get master secret
PW -[#green]> PW: store claim_req
PW -> P: <claim_req>

P -[#black]> I: send claim request

I -> IW: <b>9. indy_issuer_create_claim
IW -[#green]> IW: get keys
IW -[#green]> IW: get revoc reg
IW -> I: <update revoc reg>, <claim>

I -[#blue]> L: send REVOC_REG_UPDATE txn
I -[#black]> P: send claim

P -> PW: <b>10.indy_prover_store_claim
PW -[#green]> PW: get claim request
PW -[#green]> PW: store claim

=== Show Claims on UI ==
P -> PW: <b>11. indy_prover_get_claims
PW -[#green]> PW: get claims
PW -> P: <claims>
P -> P: show on UI

=== Present Claim to 3d Party (proof request)==

V -[#black]> P: send proof request
|||
P -> PW: <b>12.indy_prover_get_claims_for_proof_req
PW -> P: <claims for proof request>
P -> P: show on UI
P -> P: select claims for the proof
|||
P -[#blue]-> L: send GET_SCHEMA req
L -[#blue]-> P: <schema>
P -[#blue]-> L: send GET_CLAIM_DEF req
L -[#blue]-> P: <claim_def>
P -[#blue]-> L: send GET_REVOC_REG req
L -[#blue]-> P: <revoc_reg>
|||
P -> PW: <b>13.indy_prover_create_proof
PW -[#green]> PW: get claim
PW -> P: <proof>
|||
P -[#black]> V: send proof
|||
V -[#blue]-> L: send GET_SCHEMA req
L -[#blue]-> V: <schema>
V -[#blue]-> L: send GET_CLAIM_DEF req
L -[#blue]-> V: <claim_def>
V -[#blue]-> L: send GET_REVOC_REG req
L -[#blue]-> V: <revoc_reg>
|||
V -> V: <b>14. indy_verifier_verify_proof

=== Revoke Claims ==
I -> IW: <b>15. indy_issuer_revoke_claim
IW -[#green]> IW: get keys
IW -[#green]> IW: get revoc reg
IW -> I: <update revoc reg>
I -[#blue]> L: send REVOC_REG_UPDATE txn

@enduml

PlantUML version 1.2017.20(Mon Dec 11 19:57:05 MSK 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>