extern crate rusqlite;
extern crate rand;

use utils::constants;
use utils::libindy::signus::SignusUtils;
use schema::{create_new_schema, get_sequence_num};
use utils::libindy::wallet;
use utils::libindy::pool;
use settings;

/* INSTITUTION/ENTERPRISE settings */
pub const AGENCY_ENDPOINT: &'static str = "https://enym-eagency.pdev.evernym.com";
pub const AGENCY_DID: &'static str = "YRuVCckY6vfZfX9kcQZe3u";
pub const AGENCY_VERKEY: &'static str = "J8Yct6FwmarXjrE2khZesUXRVVSVczSoa9sFaGe6AD2v";
pub const SDK_TO_REMOTE_DID: &'static str = "AQ2EZRY9JQ4ssjmZPL5MiU";
pub const SDK_TO_REMOTE_VERKEY: &'static str = "684CRDu3k4TGBzNU99JTqM8cVS4ZtRwC7eZHEvZjzMRX";
pub const REMOTE_TO_SDK_DID: &'static str = "7csYfSY8b4hvqnu5K8nGQP";
pub const REMOTE_TO_SDK_VERKEY: &'static str = "4cDwBvDZy9aWWKf2uCYTSgffCNt7ffmY9nrMTHmqsG8z";
pub const INSTITUTION_DID: &'static str = "2hoqvcwupRTUNkXn6ArYzs";
pub const INSTITUTION_VERKEY: &'static str = "vrWGArMA3toVoZrYGSAMjR2i9KjBS66bZWyWuYJJYPf";

/**
 * CONSUMER/USER settings
 * generated by running provision script with: --enterprise-seed=00000000000000000000001DIRECTION --agent-seed=00000000000000000000002DIRECTION
 */

pub const C_AGENCY_ENDPOINT: &'static str = "https://cagency.pdev.evernym.com";
pub const C_AGENCY_DID: &'static str = "dTLdJqRZLwMuWSogcKfBT";
pub const C_AGENCY_VERKEY: &'static str = "LsPQTDHi294TexkFmZK9Q9vW4YGtQRuLV8wuyZi94yH";
pub const C_SDK_TO_REMOTE_DID: &'static str = "QgUb4aHJ2cigGZCrEe7DHk";
pub const C_SDK_TO_REMOTE_VERKEY: &'static str = "DubGpQctfhNRw4cmzqaHjne6qokwpxuWrhiTJgJEGs7q";
pub const C_REMOTE_TO_SDK_DID: &'static str = "7faARCpBNrEESKmvBejhV7";
pub const C_REMOTE_TO_SDK_VERKEY: &'static str = "4dhJ9JkxJm4n5QbYUR9r3KcUoC34yZJgXouRa2PKgMUE";
pub const C_INSTITUTION_DID: &'static str = "GXTZy9GzdtD2c1J88Jrn8C";
pub const C_INSTITUTION_VERKEY: &'static str = "9TnFnc8LQ8LhRQjLVjdBR7Sk63yjEkJ3ifvue4bftJJc";


static DEV_ENTRIES: &[[&str; 3]; 23] = &[
    //Todo: Remove all cred_defs that don't have updated format
    [
        r#"master_secret::main"#,
        r#"{"ms":"65799204187227524848912938308748253300514297999295642077060693146216328813804"}"#,
        r#"2018-05-01 16:39:37"#,
    ],
    //Credential for (name, age, sex, height)
    [
        r#"credential::92556f60-d290-4b58-9a43-05c25aac214e"#,
        r#"{"schema_id":"2hoqvcwupRTUNkXn6ArYzs:2:test-licence:4.4.4","cred_def_id":"2hoqvcwupRTUNkXn6ArYzs:3:CL:2471","rev_reg_id":null,"values":{"age":{"raw":"111","encoded":"111"},"sex":{"raw":"male","encoded":"5944657099558967239210949258394887428692050081607692519917050011144233115103"},"height":{"raw":"4'11","encoded":"25730877424947290072821310314181366395232879096832067784637233452620527354832"},"name":{"raw":"Bob","encoded":"93006290325627508022776103386395994712401809437930957652111221015872244345185"}},"signature":{"p_credential":{"m_2":"31700338570294708736115754102769589522052428093121126330650183539696104868123","a":"81960928509079620823343950032969008336391549074884608324517775818898568158758192830324222742417114228228203902794566738832133541043277590087972791512881285867310492031598697867842194658272660790216267605827567653156144194994212077428626164072308381616714460681106901232434875506679983631243405689626097418116467079690328805989253912611851228781463162324372034922981971152816959499965696422019179037584841719982627937439802497502379645996014647348333808221674167875101170534928961737975917670273969292141231226308968639154598912264045541666282915480370869384442192826186346261215780262029893283749269058216344643839503","e":"259344723055062059907025491480697571938277889515152306249728583105665800713306759149981690559193987143012367913206299323899696942213235956742930302596781531071170803058655297671317","v":"7003943637924412988764985072086000118095048595287611313986492240178874921183357936364378361712895532684180518228155827217099970080631339502652949458724398995638525726464206219725450743198010619790630880551811486328653217016849855435657581191318167232478417354743351890312732018064858307281249324839241525069489599880767806291488027527472257479805028163199620079751023262788194387523577687815000547930105970160978982360532796141873160492332648238829725366077913436103725101118591358740266221506301009012054972979815752525992452234196789821409854271003623732984546299835065309455365914274393177397705146623837433009746209922207286522542220100383185457598106478086209111860589557229256423462253695889598648825019225310530002635410754389313822261055900051606362243879818199501368654887162017859345197427086925735003959838923"},"r_credential":null},"signature_correctness_proof":{"se":"11431223809812071191361879028148220777647100610789026493040808255029518976741275883149787473920853063062683810872364990022708984265172669935498280721908373010049079315931590207743789205490987412738884813125642109587425252070402396960371098719424135381781601132971861649579057521357527931362887845539403430341689577272924207693393076024591919974734020560281971595749842184121978511921461113181862008695500532328750011887966998204164107467413093409118885910932729593377733323643109080259236185291922732808539257702801871235377257747608940446179593217663263040102481968096989806892625436511413195333252859906329357193890","c":"82704620743549045002211990344782978499138171223913909991546977545808822681258"},"rev_reg":null,"witness":null}"#,
        r#"2018-05-14 14:28:55"#,
    ],
    //Credential for (address1, address2, city, state, zip)
    [
        r#"credential::2dea21e2-1404-4f85-966f-d03f403aac71"#,
        r#"{"schema_id":"2hoqvcwupRTUNkXn6ArYzs:2:Home Address:5.5.5","cred_def_id":"2hoqvcwupRTUNkXn6ArYzs:3:CL:2479","rev_reg_id":null,"values":{"zip":{"raw":"87121","encoded":"87121"},"address1":{"raw":"101 Tela Lane","encoded":"63690509275174663089934667471948380740244018358024875547775652380902762701972"},"address2":{"raw":"101 Wilson Lane","encoded":"68086943237164982734333428280784300550565381723532936263016368251445461241953"},"city":{"raw":"SLC","encoded":"101327353979588246869873249766058188995681113722618593621043638294296500696424"},"state":{"raw":"UT","encoded":"93856629670657830351991220989031130499313559332549427637940645777813964461231"}},"signature":{"p_credential":{"m_2":"31700338570294708736115754102769589522052428093121126330650183539696104868123","a":"72350326160820048762064246459735853671064847588738514981890691169999691758147566039623335669172827888052359353807748970090349192554388275605230640889252148385818798591915052383528296788979211001489437577551863908408235488651651752382303483524120053517352920586008639536101164078543484039438169603660367872965542199471114653304754961456170760140570606933378861968239306799447880928903385645850026934455102303365418515353412723463813947311729310205272987472266614917124512060382167204283153526923491371495391008053623811107237327569183444059636754144114444734529852515199195527445970153718991859456401270933465925663696","e":"259344723055062059907025491480697571938277889515152306249728583105665800713306759149981690559193987143012367913206299323899696942213235956742930296983810977789330296216890705977217","v":"9670208438883674175035441018086366493922433413334409757770920546736616467742640326029077062195455492616059425669761134262312511516304411593148000993624087341484981074627709972216060475867277053506253667572165667669010830815854522124053354939798968426121738652582537683800405981991951170946602194133745570817194453758281975737518896619480688925992960521224989623405811301666129665333716572081484681625348473341694316753201327934178079114863457934373627801503124183040984086984963197205702609596549591939418424227250154210599683463484882769311481599772924921037564117675148941610684414842052487364385961648784501949953486672793860025214805689047628846599358099230374764326645584542715062655476807787473691363645940264843548517791722548798608231457227865534031005788070097411860564771509914741462179147155918806392510712312"},"r_credential":null},"signature_correctness_proof":{"se":"11637140943834961892237546293511182470735432357614876824410441064989493099906381936356057726422884972497911216233359595140533244393429043923219125379395446854309044990993668985547335791979600343976066171681977278286632590674606632239438417556781440170398622706830356894488134553245584775638308645402897721226297671586147204246446993796488722368662111430751280423229163634514710911483329745261830521954767764516456957157192616169625144276015092560616750291582727535784570054117697325666052766425884924042041174402259328143550487872570218202771950677703264673949135130462080533723998315383504971327455891815812932883617","c":"102889657000855571672874589021240213141439457797350182309867568844995482659720"},"rev_reg":null,"witness":null}"#,
        r#"2018-05-14 14:54:26"#,
    ],
    //Cred Def (name, age, sex, height)
    [
        r#"credential_definition::2hoqvcwupRTUNkXn6ArYzs:3:CL:2471"#,
        r#"{"ver":"1.0","id":"2hoqvcwupRTUNkXn6ArYzs:3:CL:2471","schemaId":"2471","type":"CL","tag":"tag_1","value":{"primary":{"n":"86724287350477751206656570979032966703329505889109970100672593600212159710122524558840987784946586074662132488236400738181991816412026591140984921370179767079606062874849350699068544007953394425621170412614434471437870413981961728213356970896311390324401528063993712079175929421151002066958792621968526123052543362726709351064982035483300909753311188927834431210143615918489181734829742678671085195486779344279087570275333764801067819032638761795735427697089756560490683732524286268242592541483561421003008848905312960263229239327096444856373881655366169784000740449827583427336247268796008957239930929940106124383441","s":"68565823032708474306514409710254746185097024905866456492400609548513882080060651547254886717209317635536647955345162687060898443709138147278667084384903589486496041039093776147061990629509796556903457618318946948477020316739616698285098064517065210309432231348425794038491136239768243653004282415622183771020331818660661942833453261537705421796886050819425946416534064887172474631878946648680969678450250632713392749852095439858412085632624401434183699289763190966729771549896627986528002008455144081216013915376906960616224100785288425229004552127157820129850247623860663716001315305824246521524314406787572201936159","rms":"57279696110727020230628302576589700618183762363882960191767791103858409422237116150822746386702678537060617035162158771261021205326414811089995155468452732347369957531042614743687780641303019056601049908281597307105484509385119697735678823173668624081938728770800068935332426199032434097694521029943581293515608277055518864299564909952705207331157426572681898162714820056622424494845195263946986591012537422825086117775467510208980394650070899723933489945234503492645580931663241570210025903493959090620866405770418934478358877241756698114261254562875594267266148011094739462828069179559394070466727563845901362557339","r":{"sex":"20022101741446570264557630399489699993011383357495333780962515915463701761385865327966524872646907887816919241795166812245521381526599594939708271733894974601885444697364264320467230587792262093722414489552649750887746173699408773581709694927717324336563255309885303903452791340447296644230298702852495919610048570998314143211678209843631329899528727189541506380135323384697685129288034139901316951883056009308816474794904871533784876333707034390658024899757223718233822416033410932755695918855013227912649125625613708302826940395050959425506559689930729589702715565613350872257404294852981485742693414175561560376878","name":"21470694100729869744261292006763813345150044183446029540177870124524039106316094174460389232832571532284810170007293388299473733141322565289343893281311432223107289867486737597507381929324412597111791890822982978607377646493268665410154158352332552430455410676424655538131806962743837140975034501945349610114128040516920426419752180449876110429631390074018339624366625706057577988994157784979295579958266166722663022918076663412107247120922543421973109778231583641494528977463571610522286622037737315024310026589510134042108138559662654575330826743445692198806461970153226357910705261181205457260549327597981951573985","age":"68324431017386373141723313379588123114122172733785498028129098771912332870161622586830226725832682089282797682478996628527458521203981066532148542867910727876973540501604298386964941331385945509447921573334640257131480681017298967411615851997278468982114318053852745062107685596645860574744820479443008568550713733647938784629517351521220040117482812057845591724691129906359015250113706837112935971415735663780322204054449465947028328022534972551186400163012220719718039176357586730457386744557089473465341563472760872536594611618365110919837962302554808225102415883187587908311141004150113254350300861684974387245524","height":"13939356647759609174485719802501773567276049548245424935504126500265586608662951980260718040791134755864486701853050225651855956737901595730976263505088594378380074293405559194748221759603581890598079117782820527925868489919600695104312261805970657325246956081208878862007439057712465023318674543859367201399080194572966833003881512520725074633033420930095211305635173717467241968613481516063152487980820555533755239133651769565133420156114776578165410212221881994925880629770028898705859268663836663647027677768478228049082189465977511902707373041793879289766830466362779198318255196657839703097701957436211432866940"},"rctxt":"28968968789316921956195020159043701485128084666788319688919703768305257857030853826651494435280634703130965749799263847281089261890586404514554128897545567559411392274924672850695923428556666839524191639557540925894441247523915911594915810062115573022491175505153277512476305377826383134343681670368530974886362266706187655064207938621808588725531887931062314044094064943783008218642721898688548716600959291789899808528982572786472183338043212505885146997913313141282478028502666021364027851488363355869491118603841447843857893374823843951923935275949332495109370644946403701670919133621008245580388712016814216268114","z":"86577229265747009560052615679615895419349481058284021085673929260636969170535560390660022683481326803220581815884464749038506104457182906050929596940529151731519096012460995580213574923115394453664191902057791953043346629148369777542113599040511920597866451649154423915282977750060280596799442262757753909295114858121438822608110664099684925371671089644086196379734044256966499814680946051154187391597679900273906654730748525684870945928000260002993274218927561839707361816863918092159839143300439497578075981381842189307826991559468115699410540879665465127893208243916471732332308562108973634353200261591256745812234"}}}"#,
        r#"2018-05-11 16:23:56"#,
    ],
    [
        r#"credential_private_key::2hoqvcwupRTUNkXn6ArYzs:3:CL:2471"#,
        r#"{"p_key":{"p":"158791708833701604239040385250451750244199983250724712906625946224431955581896368471978511385306533498009168213504865960611640414542820959482065794314822252181215073921258241435542472849983740338361752312910657265705825519573139878783140455906237323547653365413329454596301712351139576682716064113477191424311","q":"136537807904853875065727849681022899133764558428989497544091631561929608352384729408451381092021973241344247566766858473174089229857657635598028629637381884685613240721560907528808000994706285484533167802414993538035709464071312178573554744315128428435791354822790061377832870453587082531771421377557394277983"},"r_key":null}"#,
        r#"2018-05-11 16:23:56"#,
    ],
    [
        r#"credential_key_correctness_proof::2hoqvcwupRTUNkXn6ArYzs:3:CL:2471"#,
        r#"{"c":"5332584803272926894166915187486042523274422459070951650815887020442117520684","xz_cap":"20305811914260659761334080873620423122618481379155970714938498226771354443620010715375454655521623891475834732324325834667783939662445561281280344876200288273009829579444500155868831356789138618273485753324694137571603328663173547427809916773297994408227615868536047948642163592396561561177722966967253374076658130556206036510236165170148689054636191255868939025604811440619443782886735970153406853396972112879421305032457173038719280466787199142578220126969373402190103849113098083640894842219027382887417584808285994769482082135909488115226928105781435085328618499381146870147507780192415978983984849580682937847285646975371159413701333383368521093124895868635387253029959264280132790404334","xr_cap":[["sex","39284493107109322524121924676166228080086752115006607054289636146914916724576665668260620917261577192381902382827453004783472240953911534545232821394543251988429208599114245556239846883013201200701525596844737742356681731430486735556615752340182460196361711787651912483517837518189669202186297427985925395908108352865815228158505351857866187292791359204538355058333230695108979256567530968399211567992342509051406759044478804107852066017744864902928431702839670147738576948349387146248067738112393758133460020013762037774649539805656721869251578930073869065000512464788521195920250391698685860991231499409045322503809799683276584633602125674727865121836791647384685569567286372974945321882541"],["height","59350348124267706840690234804919406149273640925911166250343729134966300578012544539322791989772754516861393388897941254714589083908870763946221359862122214283117122677626717431846424343717175426617257408984269022602878616149664261030639268357243236541491867329343028034693171408359867464472301207663462092563623634740632397417055384753856732575694424994532885123137618057418611099298243586417289583779290522611687587491595888642344177226518111853494311898450964143834804301736875666619150766549383695869655977263708852848680476106685490417844914508092605316756088271658445499458185793173220303194309379823794410275593584919652940194035259467303300213542952549398881350657694498191510301764672"],["age","59413838007394937119544971697596543284628582142098931852516723372431531283768768177392006535955893619047429260161714984188150285206387540217770098420899955089808600042592548027905854120542059649156223939063072460491704058234412912955189843736129221652567875656160987283059666873623156184386699344473779422026650261236258043187621159102964054201187435034751696166904054627486332910391306108521411752498564382961085691882275525387984287594538027244491375631803466809234312817547537799509490524173895230391603310088113462684136292001744544740755729488621595645811700475285811718933695793353856689224271054172976146027646874455246299426240484603391738243567719303253586980226082258947907637631648"],["name","32592485740168045997777253526854266289908291250927965906294793186358342951765158531019819797389056462575349988949287857457628851606011823486131620594108912717423294513671367921404501826464033166757072968593010591747117587495172905653859025641675423728880441781529988670819749449756069858179326014605229657533284563429976532872500152225646026007763074821716127745877579549013771663098603388078887569060330042744143540464279588196283831307696282113872770055664218292641292452268789760422768602905509206881138617112750054016829847810361310288271807854044103747446629058489431232977860583009709934613842153069288820103550450302525204465530933202115612487195873774890022107328297911480614675268188"]]}"#,
        r#"2018-05-11 16:23:56"#,
    ],
    [
        r#"full_schema_id::2hoqvcwupRTUNkXn6ArYzs:3:CL:2471"#,
        r#"2hoqvcwupRTUNkXn6ArYzs:2:test-licence:4.4.4"#,
        r#"2018-05-11 16:23:56"#,
    ],
    //Cred Def (address1, address2, city, state zip)
    [
        r#"credential_definition::2hoqvcwupRTUNkXn6ArYzs:3:CL:2479"#,
        r#"{"ver":"1.0","id":"2hoqvcwupRTUNkXn6ArYzs:3:CL:2479","schemaId":"2479","type":"CL","tag":"tag_1","value":{"primary":{"n":"90226862255330725049624935156831046218530253963751102614605452454614179793866839622286111251032969502072631946495704240811293616535162276527096464375788124429430926251001395353122698379553516898610723518833225131303950350637484236630892165662633043741460138240739182362871523983345614195950828833161052536905525723819311753709821438029317644001432626928258678145602130778757299820720082984921211287570446312038960087317518766664395629696858031264730797736672888160145501532820839190881880303636273534956233769878376800997657252270785754956186397003180942150712065633254160193743673207383306608679540558030200150777209","s":"5611479323423152092798436224232399449287576021804848216467480630808058057186631421569324068281439953876416758679883949251751128997514839328518883916706991815880095492733590116613449063159375534176665576626772878337854577598051867163631051864504877119616754655520722324639810882773237240322708444408109530601392941536146672048807714940622324854333329389247320430912122827406825529188081400547679631746096768715972418952678015274544421079079447028189830654814141593663206477653992085366434330195498225215445593222883919756690990197140978096976519454641287905725449089084620644479588320477216860751745953458107551200541","rms":"22767547575527200823877860609521861223935802871363206905509849499036391956083710387915539898715408511197508232028152886239708315444572585643554158977254570467031605594471522358454305353556024019491590416515780181523594854375557459861800021652833634574274569365055821629174631093611787648708513940784951747542023881790976069186701826954039602421306523149765134331716256688057882823234208603111684002272906018834643566538116472605852591111767184665701684430927909064209161443269990593399581566278975448984301556376868748304099114262512364906579274486201572389081178995232584524358882070864516374739715585901832408847261","r":{"city":"85713385814230908403415776579589685475133559188519630616941999419988271704286772609719026217611206469596950021090312275737234341485958369529180036165925975420156709289472753443654958213157780132808786882007473149908190374421291381089041388818464423270398294380057055695272151811803193358182432195930561445130355749133166185888465437911229226792699167297034732082863296415073829542563154705169436769937535150630493608264203351775409571164181614062057733480273937688689538756790923217733766247005249795613966520287410028316548716134115851547542797620379583952504237119342982651982064968237551842478328127113075892747225","address2":"1206766852087704282620150800601604485091336174976971728566994516607853374164326791646496350307001345523110861029525301419833620705320749257807602595445649302077240365763331079978088940362538995198262965890501270061419734189106944365497752792584337193213250069735762041338016876849284446959046070171620361520071042381902122184756113439895117091312615676785342798753397074743713383047309317645029305895956449585942388148591513587469025780778692727362082751899018772130079025713331168511391768469879642256112078806929820995430263573669200969695738849728634435291127865185744520242701699979573579527257788013599830748624","address1":"13832400255986193755301586588021298761264477767521959053909401273901456219368738086336923756754721098782361926392344509732949150564267631256460637388139159442211479763868098029126012552770471301324737474149693774518779400231191596762876917785136154886781692942754713531948698609140191507036039998680385515949333857893278572816588522002298762662153083967374064794019173071258453135852789621945105907930361433684035596734598665125008907141351500840156002149892942482319777181136166091067521255005320517564015909852872033422579719443863859476410203907217223400314511210520056639460800402253459490374827646011704885152360","zip":"61799871253162245511697515629407483163298961319741641148137106361857894190185956761725574395879681210613746250064660208705372553762835932204213793265198315662120265839390580246353763408292291730696400870314428143112061568226713623285565984571350193015344619550814344408909567606068673763110434881068974092431949151582190649649212231914713811467441439866973030154459748797576306986800260082728033171683023169999692465797895897356068971912472132339605925215046489759722454621330581385523121575622859250709915588193318967255916181388456977200338394412770325918796955299842558419664343828066623818886580680870486096280610","state":"26073839415614973129582312084708839396831394559137083803415037044934005948080805628037381161768626677371755428174295257449693445973412652528699605424365323174058558741019869196802711646814490149141838722288418313896985203965780925431860696142332031201650046087138471439619067568251803216337129731977586098741622231424400574683775498331340317684562550279161443115869255410439887045172323362841594647837780821830931849097786140509319896074145895658700148172515980667975221697598434209394428264713915531385949798623659348013861237963324501250488543850635343060716264413666259251633860681232518381215269016785201227166061"},"rctxt":"81316062379812440579682420473871034065419434685954216112069179607128043693523103114234806582795227535519405908950550152990558709776993403353578508991744227405811594150494004869006849257526865152003053773188802197658451716325924342000734567804457892280831692637849439996651142665929089823331087815155264122840636509210578961965821236617882454512679200976405511238372085527712486786396745468714669030400974135533438450643432736816784602798452150766871187984819558820794888223611991925344769878526285104209816976781673280412052201018090255834456030681892253575940926560534154246381884061079653471832853745138884956232033","z":"38724327388901176310316034980794510266482373527640769305434548269088881953903685678073771979570176342441913457857256848802078400972752070721409695050983353466803729019565239740981443896351790124874033389740642649113108119442267755771200286220588642917993273832840271715811133306896306392571034231582722174300411507975860942907055985573381309036713187292212579489740864018983715708772062589382060088421985665001412950076709120013261067131281036364352986358867466740756883864656417701478690167229707702427311227896973666224212362838224892821312026350931356399285731773936817117560567658599208193228013993276984411309661"}}}"#,
        r#"2018-05-14 14:46:28"#,
    ],
    [
        r#"credential_private_key::2hoqvcwupRTUNkXn6ArYzs:3:CL:2479"#,
        r#"{"p_key":{"p":"161220308770626563170443919005915258158470323496500912062816801163411655186837516869428471860716372886433296557733799455664896450559550712302015325116157086607226990997828536939575280983720878953756460404485844841150079024443309861804642600044267892653690503015031173320962660997112563506035456773224581280903","q":"139912370444128490822741131596132869116277215318197664103950860307649756971318639355556004239135372299514173671616659315330153834268346793572038149696466125530116308871514345049838265817082354571103960581602059277312827203891575166702557338098601384393106483274712597791674853551620362148170487184065824850043"},"r_key":null}"#,
        r#"2018-05-14 14:46:28"#,
    ],
    [
        r#"credential_key_correctness_proof::2hoqvcwupRTUNkXn6ArYzs:3:CL:2479"#,
        r#"{"c":"7739529460183870905731135290049950099931183704462470630889143929953170719056","xz_cap":"114963137852867433681982037222722443638950636881785739117171930458048494487750454945175580138746380258979829859202039935249172966730552152406386198991128233421354015200982396439970031856805133119013873761269006469842950037584749539141518243958250964151815773103836502184994306417367924944394809792061725908603699055422618377618309179060318637371542579580361035517312900705240452269193335837107520024423491648081286001192608735599031239211160981592205590721737213580600502256950179924755919599829317892705415007619716582461168401509061208070333960919945131643908661702127549873358922533397659615512773120508669524693053959103309577455808510587497222398969841935900262381720279936164111023494874","xr_cap":[["state","71895898074902249208725698844206376951280342420174137305230691664008866951313910663957558169675223845310388864719403872950732735069421388258376870193185546896431218243598391709998953987462267838646594879698011106892673036120870958023016542430251368727295284932758288061225784334479086500309551728554178578589649015986071649531676074396029969838772709212669854504439354489905228590312518045254224299569216170773069215275543193200021566774184804648661202047337561304814231716696536074866164534437737146711100993430920067490895553109015590034126961546597106192789320470498291178039731086579108530280960005413039912183176685848353689975457847110325899914878346298435288872531090129059986860225711"],["city","87533164610290128591722680050295939401609697473612628518446521628180786355555253481327069579813274195236588818700830386305958971922896557770023833409333115197986378789078850470843003228667128146521839757656168059819336838519596914689598411286680347041520636471569204591959088038543955689877698690582911572508961813723718998795018822918327457538442766456953088927306888022692332446237505769683486320979163370047296285315984117115456771181222475341878796154448795002591199478326423195019571208965358025346963332854496118063288400645846470661516405678384663690785114665918619923302221849207159471172583847658458397345361212648821701656070432191237644794698186572623292071459015146245225133845852"],["zip","92191011603148481343330841081699534435760377543945131458400560257395988269606262682744575880354366185114923103937031994795842560859330712324715187879511961539537195941679349886091743001710244202057027382381633170429612268030210372062619030312565145363993249278420719543344431538547865261998579935845294927473947075103946634581495170264349234842354030855996181686520424143171776967534241261883360007350544379870565013262716514327710271749405063939607574760937864954245335004959099780272729500724334725836719440978821539778529388418311930372603538850579940684072998333369207456987768562602166348541230712694627662288393369634560403919407628629916923586083656760125499175852564164014536043116549"],["address1","77667437980096360479384600231027708485464897499296048237080159256452727294515393850298629199168096820266192288748263521301984213895136089409890190892469315462789089018834379935256955327764382926099957608155633788578694286796930615513103823793209260178048231754388834025726883983599050666509468697006020408989697923434453341377320721125025579368176155496592268283773928035653123574633780028809380005042572619145385355189640572306382445927420948562559033677428306234937949345722217224643072998948162798829921182658921121176778954951563494367572849517128068232164804455200961882516669168632613832345858088456884108324821138714351197906326057865749655631627685606926047772869142967755881640336519"],["address2","30007861830702632198880067397512252117527319554578519276205156270947851344922890667851995215952027622038937431390403101641504511254486420415275362457471293917576373068022960717306444814173213377156314685629977324393996386582020529060019237530712599485036928613145562599983606502322359348214385569859254751469807217078911957901803743885138115702878731342172674046559592075765349950565759433910868619798760860881029317801980484093451786884822306123871752954869921905696349319653118511370688044161779943430420134153437257959287343657138782698224389416243951136018758415595073092347011401905242313998363156129398764047898317818383931371911376681201525491898434225222626627822146427714197088569574"]]}"#,
        r#"2018-05-14 14:46:28"#,
    ],
    [
        r#"full_schema_id::2hoqvcwupRTUNkXn6ArYzs:3:CL:2479"#,
        r#"2hoqvcwupRTUNkXn6ArYzs:2:Home Address:5.5.5"#,
        r#"2018-05-14 14:46:28"#,
    ],
    //DID DunkM3x1y7S4ECgSL4Wkru
    [
        "my_did::DunkM3x1y7S4ECgSL4Wkru",
        r#"{"did":"DunkM3x1y7S4ECgSL4Wkru","verkey":"837gvxJ2pUuhCspWti7qiRAo2JKCKaHg4X1k9SuKemWY"}"#,
        "2018-01-19 21:26:11"
    ],
    [
        "key::837gvxJ2pUuhCspWti7qiRAo2JKCKaHg4X1k9SuKemWY",
        r#"{"verkey":"837gvxJ2pUuhCspWti7qiRAo2JKCKaHg4X1k9SuKemWY","signkey":"xt19s1sp2UZCGhy9rNyb1FtxdKiDGZZPP7Uk7LfAi6P2ZgcpNMagSN7K1TDc73gkBzdpqvUAmpPnnxRLqXeBZbv"}"#,
        "2018-01-19 21:26:11"
    ],
    //DID 2hoqvcwupRTUNkXn6ArYzs
    [
        "my_did::2hoqvcwupRTUNkXn6ArYzs",
        r#"{"did":"2hoqvcwupRTUNkXn6ArYzs","verkey":"vrWGArMA3toVoZrYGSAMjR2i9KjBS66bZWyWuYJJYPf"}"#,
        "2018-02-28 04:09:37"
    ],
    [
        "key::vrWGArMA3toVoZrYGSAMjR2i9KjBS66bZWyWuYJJYPf",
        r#"{"verkey":"vrWGArMA3toVoZrYGSAMjR2i9KjBS66bZWyWuYJJYPf","signkey":"xt19s1sp2UZCGhy9rNyb1FtxdKiDGZZPPWbEpqU41NEy3MmoeUuhq6T8F4JuRPgtj3hoT6BBjgnEF4bbhsR84NH"}"#,
        "2018-02-28 04:09:37"
    ],
    //DID AQ2EZRY9JQ4ssjmZPL5MiU"
    [
        "my_did::AQ2EZRY9JQ4ssjmZPL5MiU",
        r#"{"did":"AQ2EZRY9JQ4ssjmZPL5MiU","verkey":"684CRDu3k4TGBzNU99JTqM8cVS4ZtRwC7eZHEvZjzMRX"}"#,
        "2018-02-28 04:09:37"
    ],
    [
        "key::684CRDu3k4TGBzNU99JTqM8cVS4ZtRwC7eZHEvZjzMRX",
        r#"{"verkey":"684CRDu3k4TGBzNU99JTqM8cVS4ZtRwC7eZHEvZjzMRX","signkey":"3GNKQyCswPamSCTPHj9BzJFY3DcXbswXLcteWUNtfgnD4f1rqbLiGTtqpehdg4nxpNz3o3S5iawopUCYbgURTGZT"}"#,
        "2018-02-28 04:09:37"
    ],
    //DID EmapZ8H9S2qPp3JKyfr5z1
    [
        "my_did::EmapZ8H9S2qPp3JKyfr5z1",
        r#"{"did":"EmapZ8H9S2qPp3JKyfr5z1","verkey":"8WFnbdyQkZ7pZDX9FRCLbtH4bjy3AacWKPYkpxHCxaVq"}"#,
        "2018-01-19 20:27:15"
    ],
    [
        "key::8WFnbdyQkZ7pZDX9FRCLbtH4bjy3AacWKPYkpxHCxaVq",
        r#"{"verkey":"8WFnbdyQkZ7pZDX9FRCLbtH4bjy3AacWKPYkpxHCxaVq","signkey":"xt19s1sp2UZCGhy9rNyb1FtxdKiDGZZPP7Uk7LfAi6PvimpyRHkzenYNbW6eLf5DKWU9mWHFQMWVpMQc7Bq3EL3"}"#,
        "2018-01-19 20:27:15"
    ],
    [
        "my_did::QgUb4aHJ2cigGZCrEe7DHk",
        r#"{"did":"QgUb4aHJ2cigGZCrEe7DHk","verkey":"DubGpQctfhNRw4cmzqaHjne6qokwpxuWrhiTJgJEGs7q"}"#,
        "2018-03-12 15:31:34"
    ],
    [
        "key::DubGpQctfhNRw4cmzqaHjne6qokwpxuWrhiTJgJEGs7q",
        r#"{"verkey":"DubGpQctfhNRw4cmzqaHjne6qokwpxuWrhiTJgJEGs7q","signkey":"3vSwMtqns4Y8oy6oUZ2Uxmf8aUz4tayb8gSSEUnnbexNZrimVH5HdERSFi2aPdwQgC9ynBbYvBPCkUG2Xq2NapJF"}"#,
        "2018-03-12 15:31:34"
    ],
    [
        "my_did::GXTZy9GzdtD2c1J88Jrn8C",
        r#"{"did":"GXTZy9GzdtD2c1J88Jrn8C","verkey":"9TnFnc8LQ8LhRQjLVjdBR7Sk63yjEkJ3ifvue4bftJJc"}"#,
        "2018-03-12 15:31:34"
    ],
    [
        "key::9TnFnc8LQ8LhRQjLVjdBR7Sk63yjEkJ3ifvue4bftJJc",
        r#"{"verkey":"9TnFnc8LQ8LhRQjLVjdBR7Sk63yjEkJ3ifvue4bftJJc","signkey":"5QEbR1JPRorcTazTgdH71nQqzVDhHs8cqSzT2at6LeS7soCWBqhu1kFdiKyKaks1qyg5GAsQp3GFScNAAJUCiomJ"}"#,
        "2018-03-12 15:31:34"
    ],
];

pub fn setup_dev_env(wallet_name: &str) {
    settings::set_defaults();
    settings::set_config_value(settings::CONFIG_ENABLE_TEST_MODE,"false");
    pool::open_sandbox_pool();
    set_institution_dev_config(wallet_name);

    setup_wallet(wallet_name);
    wallet::open_wallet(wallet_name, None).unwrap();
}

pub fn be_consumer() {
    set_consumer_dev_config()
}
pub fn be_institution() {
    /* use the existing wallet */
    set_institution_dev_config(&settings::get_config_value(settings::CONFIG_WALLET_NAME).unwrap());
}

pub fn cleanup_dev_env(wallet_name: &str) {
    settings::set_defaults();
    wallet::close_wallet().unwrap();
    wallet::delete_wallet(wallet_name).unwrap();
    pool::close().unwrap();
    pool::delete(::utils::constants::POOL).unwrap();
}

pub fn set_institution_dev_config(wallet_name: &str) {
    let institution_logo_url = format!("https://robohash.org/123");
    settings::set_config_value(settings::CONFIG_INSTITUTION_NAME,"Evernym");
    settings::set_config_value(settings::CONFIG_WALLET_NAME, wallet_name);
    settings::set_config_value(settings::CONFIG_AGENCY_ENDPOINT, AGENCY_ENDPOINT);
    settings::set_config_value(settings::CONFIG_AGENCY_DID, AGENCY_DID);
    settings::set_config_value(settings::CONFIG_AGENCY_VERKEY, AGENCY_VERKEY);
    settings::set_config_value(settings::CONFIG_SDK_TO_REMOTE_DID, SDK_TO_REMOTE_DID);
    settings::set_config_value(settings::CONFIG_SDK_TO_REMOTE_VERKEY, SDK_TO_REMOTE_VERKEY);
    settings::set_config_value(settings::CONFIG_INSTITUTION_DID, INSTITUTION_DID);
    settings::set_config_value(settings::CONFIG_INSTITUTION_VERKEY, INSTITUTION_VERKEY);
    settings::set_config_value(settings::CONFIG_REMOTE_TO_SDK_DID, REMOTE_TO_SDK_DID);
    settings::set_config_value(settings::CONFIG_REMOTE_TO_SDK_VERKEY, REMOTE_TO_SDK_VERKEY);
    settings::set_config_value(settings::CONFIG_INSTITUTION_LOGO_URL, &institution_logo_url);
    settings::set_config_value(settings::CONFIG_GENESIS_PATH, constants::GENESIS_PATH);
}

fn set_consumer_dev_config() {
    /* NOTE: WALLET_NAME stays the same */
    let institution_logo_url = format!("https://robohash.org/456");
    settings::set_config_value(settings::CONFIG_INSTITUTION_NAME,"Evernym");
    settings::set_config_value(settings::CONFIG_AGENCY_ENDPOINT, C_AGENCY_ENDPOINT);
    settings::set_config_value(settings::CONFIG_AGENCY_DID, C_AGENCY_DID);
    settings::set_config_value(settings::CONFIG_AGENCY_VERKEY, C_AGENCY_VERKEY);
    settings::set_config_value(settings::CONFIG_SDK_TO_REMOTE_DID, C_SDK_TO_REMOTE_DID);
    settings::set_config_value(settings::CONFIG_SDK_TO_REMOTE_VERKEY, C_SDK_TO_REMOTE_VERKEY);
    settings::set_config_value(settings::CONFIG_INSTITUTION_DID, C_INSTITUTION_DID);
    settings::set_config_value(settings::CONFIG_INSTITUTION_VERKEY, C_INSTITUTION_VERKEY);
    settings::set_config_value(settings::CONFIG_REMOTE_TO_SDK_DID, C_REMOTE_TO_SDK_DID);
    settings::set_config_value(settings::CONFIG_REMOTE_TO_SDK_VERKEY, C_REMOTE_TO_SDK_VERKEY);
    settings::set_config_value(settings::CONFIG_INSTITUTION_LOGO_URL, &institution_logo_url);
    settings::set_config_value(settings::CONFIG_GENESIS_PATH, constants::GENESIS_PATH);
}

fn setup_new_wallet_with_new_credential(wallet_name: &str) {
    settings::set_defaults();

    pool::open_sandbox_pool();

    wallet::init_wallet(wallet_name).unwrap();
    let wallet_handle = wallet::get_wallet_handle();

    let (issuer_did, _) = SignusUtils::create_and_store_my_did(wallet_handle, Some(constants::DEMO_ISSUER_PW_SEED)).unwrap();
    SignusUtils::create_and_store_my_did(wallet_handle, Some(constants::DEMO_AGENT_PW_SEED)).unwrap();

    for x in 0..12 {
        let seed = format!("000000000000000000000000Issuer{:02}", x);
        println!("generating did/vk from seed: {}", seed);
        SignusUtils::create_and_store_my_did(wallet_handle, Some(&seed)).unwrap();
    }

    let data = r#"["address1","address2","city","state","zip"]"#.to_string();
    let version = "0.1".to_string();
    let name = "Home Address".to_string();
    let schema_handle = create_new_schema("1", issuer_did.to_string(), name, version, data).unwrap();

    //Todo: change to get_schema_id and update create_cred call
    let schema_seq_no = get_sequence_num(schema_handle).unwrap();

//    create_new_credentialdef("anything".to_string(), "anything".to_string(), schema_seq_no, issuer_did, false).unwrap();
}

pub fn setup_wallet(wallet_name: &str) {
    use std::path::Path;
    use self::rusqlite::bypass_sqlite_version_check;
    use self::rusqlite::Connection;
    use std::env::home_dir;

    let home = home_dir().unwrap();
    let wallet_dir = format!(".indy_client/wallet/{}/sqlite.db", wallet_name);
    let wallet_dir = Path::new(&wallet_dir);
    let wallet_db = home.join(wallet_dir);

    wallet::init_wallet(wallet_name).unwrap();
    unsafe { bypass_sqlite_version_check(); }
    let connection = Connection::open(wallet_db.as_path()).unwrap();

    for entry in DEV_ENTRIES {
        connection.execute("INSERT OR REPLACE INTO wallet VALUES (?,?,?)", &[&entry[0].to_string(), &entry[1].to_string(), &entry[2].to_string()]).unwrap();
    }
    connection.close().unwrap();
    wallet::close_wallet().unwrap();
}

#[cfg(test)]
mod tests {
    use super::*;

    #[ignore]
    #[test]
    fn test_dev_env_setup() {
        // Use this test to setup a complete wallet for external use
        setup_dev_env("pyvcx");
        ::utils::libindy::anoncreds::libindy_prover_create_master_secret(::settings::DEFAULT_LINK_SECRET_ALIAS).unwrap();
    }
}
