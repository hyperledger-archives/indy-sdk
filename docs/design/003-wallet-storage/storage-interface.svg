<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="559px" preserveAspectRatio="none" style="width:312px;height:559px;" version="1.1" viewBox="0 0 312 559" width="312px" zoomAndPan="magnify"><defs><filter height="300%" id="f5u72u8208kr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class WalletStorage--><rect fill="#FEFECE" filter="url(#f5u72u8208kr)" height="214.0313" id="WalletStorage" style="stroke: #A80036; stroke-width: 1.5;" width="277" x="6" y="334"/><ellipse cx="101.75" cy="350" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M102.7031,346.6406 L102.7031,353.2969 L104.4219,353.2969 Q105.0313,353.2969 105.2969,353.5313 Q105.5625,353.7656 105.5625,354.1563 Q105.5625,354.5313 105.2969,354.7656 Q105.0313,355 104.4219,355 L99.2813,355 Q98.6719,355 98.4063,354.7656 Q98.1406,354.5313 98.1406,354.1406 Q98.1406,353.7656 98.4063,353.5313 Q98.6719,353.2969 99.2813,353.2969 L101,353.2969 L101,346.6406 L99.2813,346.6406 Q98.6719,346.6406 98.4063,346.4063 Q98.1406,346.1719 98.1406,345.7813 Q98.1406,345.4063 98.4063,345.1719 Q98.6719,344.9375 99.2813,344.9375 L104.4219,344.9375 Q105.0313,344.9375 105.2969,345.1719 Q105.5625,345.4063 105.5625,345.7813 Q105.5625,346.1719 105.2969,346.4063 Q105.0313,346.6406 104.4219,346.6406 L102.7031,346.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="77" x="122.25" y="354.9102">WalletStorage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="282" y1="366" y2="366"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="282" y1="374" y2="374"/><ellipse cx="17" cy="386.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="129" x="26" y="389.4189">create(name, config, cred)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="155" y1="391.4189" y2="391.4189"/><ellipse cx="17" cy="400.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="127" x="26" y="403.2549">delete(name, config, cred)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="153" y1="405.2549" y2="405.2549"/><ellipse cx="17" cy="414.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="251" x="26" y="417.0908">open(name, config, r_config, cred) -&gt; WalletStorage</text><line style="stroke: #000000; stroke-width: 1.0;" x1="26" x2="277" y1="419.0908" y2="419.0908"/><ellipse cx="17" cy="427.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="26" y="430.9268">add_record(type, id, value, tags)</text><ellipse cx="17" cy="441.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="26" y="444.7627">update_record_value(type, id, value)</text><ellipse cx="17" cy="455.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="26" y="458.5986">update_record_tags(type, id, tags)</text><ellipse cx="17" cy="469.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="26" y="472.4346">add_record_tags(type, id, tags)</text><ellipse cx="17" cy="483.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="26" y="486.2705">delete_record_tags(type, id, tag_names)</text><ellipse cx="17" cy="497.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="26" y="500.1064">delete_record(type, id)</text><ellipse cx="17" cy="510.9414" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="26" y="513.9424">get_record(type, id, options) -&gt; Record</text><ellipse cx="17" cy="524.7773" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="233" x="26" y="527.7783">search_records(type, query, options) -&gt; Search</text><ellipse cx="17" cy="538.6133" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="26" y="541.6143">close()</text><!--class Search--><rect fill="#FEFECE" filter="url(#f5u72u8208kr)" height="103.3438" id="Search" style="stroke: #A80036; stroke-width: 1.5;" width="173" x="128" y="171"/><ellipse cx="190.75" cy="187" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M191.7031,183.6406 L191.7031,190.2969 L193.4219,190.2969 Q194.0313,190.2969 194.2969,190.5313 Q194.5625,190.7656 194.5625,191.1563 Q194.5625,191.5313 194.2969,191.7656 Q194.0313,192 193.4219,192 L188.2813,192 Q187.6719,192 187.4063,191.7656 Q187.1406,191.5313 187.1406,191.1406 Q187.1406,190.7656 187.4063,190.5313 Q187.6719,190.2969 188.2813,190.2969 L190,190.2969 L190,183.6406 L188.2813,183.6406 Q187.6719,183.6406 187.4063,183.4063 Q187.1406,183.1719 187.1406,182.7813 Q187.1406,182.4063 187.4063,182.1719 Q187.6719,181.9375 188.2813,181.9375 L193.4219,181.9375 Q194.0313,181.9375 194.2969,182.1719 Q194.5625,182.4063 194.5625,182.7813 Q194.5625,183.1719 194.2969,183.4063 Q194.0313,183.6406 193.4219,183.6406 L191.7031,183.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="39" x="211.25" y="191.9102">Search</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="300" y1="203" y2="203"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="129" x2="300" y1="211" y2="211"/><ellipse cx="139" cy="223.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="148" y="226.4189">get_total_count() -&gt; u32</text><ellipse cx="139" cy="237.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="148" y="240.2549">get_count() -&gt; u32</text><ellipse cx="139" cy="251.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="148" y="254.0908">next_wallet_entity() -&gt; Record</text><ellipse cx="139" cy="264.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="148" y="267.9268">free()</text><!--class Record--><rect fill="#FEFECE" filter="url(#f5u72u8208kr)" height="103.3438" id="Record" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="89.5" y="8"/><ellipse cx="121.6" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M122.5531,20.6406 L122.5531,27.2969 L124.2719,27.2969 Q124.8813,27.2969 125.1469,27.5313 Q125.4125,27.7656 125.4125,28.1563 Q125.4125,28.5313 125.1469,28.7656 Q124.8813,29 124.2719,29 L119.1313,29 Q118.5219,29 118.2563,28.7656 Q117.9906,28.5313 117.9906,28.1406 Q117.9906,27.7656 118.2563,27.5313 Q118.5219,27.2969 119.1313,27.2969 L120.85,27.2969 L120.85,20.6406 L119.1313,20.6406 Q118.5219,20.6406 118.2563,20.4063 Q117.9906,20.1719 117.9906,19.7813 Q117.9906,19.4063 118.2563,19.1719 Q118.5219,18.9375 119.1313,18.9375 L124.2719,18.9375 Q124.8813,18.9375 125.1469,19.1719 Q125.4125,19.4063 125.4125,19.7813 Q125.4125,20.1719 125.1469,20.4063 Q124.8813,20.6406 124.2719,20.6406 L122.5531,20.6406 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="139.4" y="28.9102">Record</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="90.5" x2="198.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="90.5" x2="198.5" y1="48" y2="48"/><ellipse cx="100.5" cy="60.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="109.5" y="63.4189">get_id() -&gt; str</text><ellipse cx="100.5" cy="74.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="109.5" y="77.2549">get_value() -&gt; str</text><ellipse cx="100.5" cy="88.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="109.5" y="91.0908">get_tags() -&gt; str</text><ellipse cx="100.5" cy="101.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="109.5" y="104.9268">free()</text><!--link Search to WalletStorage--><path d="M198.088,274.26 C193.483,288.502 188.274,304.614 182.957,321.059 " fill="none" id="Search-WalletStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="178.878,333.674,184.53,329.1958,182.5701,322.2561,176.9181,326.7343,178.878,333.674" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Record to WalletStorage--><path d="M125.426,111.201 C119.384,129.737 113.499,151.052 110.5,171 C103.1423,219.932 107.559,274.034 115.322,320.81 " fill="none" id="Record-WalletStorage" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="117.593,333.799,120.4993,327.1995,115.5253,321.9785,112.619,328.578,117.593,333.799" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Record to Search--><path d="M166.648,111.441 C173.159,126.416 180.359,142.975 187.154,158.604 " fill="none" id="Record-Search" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="192.496,170.89,193.7724,163.7928,187.7121,159.8848,186.4356,166.9821,192.496,170.89" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml storage-interface

interface WalletStorage {
    + {static} create(name, config, cred)
    + {static} delete(name, config, cred)
    + {static} open(name, config, r_config, cred) -> WalletStorage
    + add_record(type, id, value, tags)
    + update_record_value(type, id, value)
    + update_record_tags(type, id, tags)
    + add_record_tags(type, id, tags)
    + delete_record_tags(type, id, tag_names)
    + delete_record(type, id)    
    + get_record(type, id, options) -> Record
    + search_records(type, query, options) -> Search
    +close()
}

interface Search {
    + get_total_count() -> u32
    + get_count() -> u32
    + next_wallet_entity() -> Record
    + free()
}
Search - -* WalletStorage

interface Record {
    + get_id() -> str
    + get_value() -> str
    + get_tags() -> str
    + free()
}
Record - -* WalletStorage
Record - -* Search

@enduml

PlantUML version 1.2017.20(Mon Dec 11 19:57:05 MSK 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_151-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>